July 21, 2016 Notes

Project Architecture:

Using NPR API, grab list of story IDs of those that have transcript
    * client = NPR::API::Client.new
    * query = client.query(params)
        * Can't use the QueryBuilder because it is for stories, can't limit to those with transcript
    * useful `params` -- fields: 'transcript'
                                   startDate: 'yyyy-mm-dd'
                                   endDate: 'yyyy-mm-dd'
    ** note that the max queries NPR will return at a time is 50 -- loop through each day until all articles have been pulled from that day
        * only get the articles with transcripts
    * The scrapy method would explore every single link starting from http://npr.org, which is why it was so slow
        * this new method should work with api, and each loop iteration takes marginal amounts of time
        * After an initial seed run, we can run a rake task every day to pull new transcripts from teh
 
Store the story IDs in an array for later processing, access through the old method of "http://www.npr.org/templates/transcript/transcript.php?storyId="
    * example: http://api.npr.org/transcript?id=486599013&apiKey=MDEwNjQyNzU3MDEzNTY3MTI3MzM5ZjUxNg001
    * it's preprocessed by paragraph
    * the Ruby gem doesn't support transcript -- NPR::Entity::Transcript https://github.com/bricker/npr/blob/master/lib/npr/entity/transcript.rb
    * My project will involve building this out around the NPRML

 Databases -- for the IDs, a txt file will do
 MongoDB to store the actual content, using the gem's formatting when possible